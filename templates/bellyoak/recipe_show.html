{% extends 'bellyoak/base.html' %}

{% load staticfiles %}

{% block title %}
{{ recipe.title }}
{% endblock %}

{% block body %}
<h1>{{ recipe.title }}</h1>
<div>
  <!-- Following statements repeated in index.html and recipes_list.html -->
  <!-- Keep it DRY -->
  ({{ recipe.views }} view{{ recipe.views|pluralize }})
  ({{ recipe.likes }} like{{ recipe.likes|pluralize }})
  {% if recipe.diet != recipe.Diet.NONE %}
  ({{ recipe.get_diet_display }})
  {% endif %}
  <p>{{ recipe.description|linebreaks|urlize }}</p>
</div>

<h2>Ingredients</h2>
<div>
  <ul>
    {% for ingredient in ingredients %}
    <li>
      {{ ingredient.name }}, {{ ingredient.quantity|floatformat:-2 }}
      {% if ingredient.unit != ingredient.Unit.NONE %}
      <abbr title="{{ ingredient.get_unit_name }}">{{ ingredient.get_unit_symbol }}</abbr>
      {% endif %}
    </li>
    {% empty %}
    <p>This recipe does not have any ingredients!</p>
    {% endfor %}
  </ul>
</div>

<h2>Method</h2>
<div>
  <ol>
    {% for instruction in instructions %}
    <li>
      <!-- {{ forloop.counter }}. {{ instruction.text }} -->
      {{ instruction.text }}
    </li>
    {% empty %}
    <p>This recipe does not have any instructions!</p>
    {% endfor %}
  </ol>
</div>
{% endblock %}
